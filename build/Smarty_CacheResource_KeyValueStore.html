<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="robots" content="index, follow, all" />
    <title>Smarty_CacheResource_KeyValueStore | API</title>

            <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="css/bootstrap-theme.min.css">
        <link rel="stylesheet" type="text/css" href="css/sami.css">
        <script src="js/jquery-1.11.1.min.js"></script>
        <script src="js/bootstrap.min.js"></script>
        <script src="js/typeahead.min.js"></script>
        <script src="sami.js"></script>
        <meta name="MobileOptimized" content="width">
        <meta name="HandheldFriendly" content="true">
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    
    
    </head>

    <body id="class" data-name="class:Smarty_CacheResource_KeyValueStore" data-root-path="">
            <div id="content">
        <div id="left-column">
                <div id="control-panel">
                <script>
            $('option[data-version="'+window.projectVersion+'"]').prop('selected', true);
        </script>
        <form id="search-form" action="search.html" method="GET">
            <span class="glyphicon glyphicon-search"></span>
            <input name="search"
                   class="typeahead form-control"
                   type="search"
                   placeholder="Search">
        </form>
    </div>

                <div id="api-tree"></div>

        </div>
        <div id="right-column">
                <nav id="site-nav" class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-elements">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.html">API</a>
            </div>
            <div class="collapse navbar-collapse" id="navbar-elements">
                <ul class="nav navbar-nav">
                    <li><a href="classes.html">Classes</a></li>
                                            <li><a href="namespaces.html">Namespaces</a></li>
                                        <li><a href="interfaces.html">Interfaces</a></li>
                    <li><a href="traits.html">Traits</a></li>
                    <li><a href="doc-index.html">Index</a></li>
                    <li><a href="search.html">Search</a></li>
                </ul>
            </div>
        </div>
    </nav>

                            <div id="page-content">
                
    <div class="page-header">
        <h1>
            Smarty_CacheResource_KeyValueStore
                
        </h1>
    </div>

    <p>abstract     class
    <strong>Smarty_CacheResource_KeyValueStore</strong>        extends <a href="Smarty_CacheResource.html">Smarty_CacheResource</a>
</p>

        
    

            <div class="description">
            <p>Smarty Cache Handler Base for Key/Value Storage Implementations
This class implements the functionality required to use simple key/value stores
for hierarchical cache groups. key/value stores like memcache or APC do not support
wildcards in keys, therefore a cache group cannot be cleared like "a|*" - which
is no problem to filesystem and RDBMS implementations.</p>            <p>This implementation is based on the concept of invalidation. While one specific cache
can be identified and cleared, any range of caches cannot be identified. For this reason
each level of the cache group hierarchy can have its own value in the store. These values
are nothing but microtimes, telling us when a particular cache group was cleared for the
last time. These keys are evaluated for every cache read to determine if the cache has
been invalidated since it was created and should hence be treated as inexistent.
Although deep hierarchies are possible, they are not recommended. Try to keep your
cache groups as shallow as possible. Anything up 3-5 parents should be ok. So
»a|b|c« is a good depth where »a|b|c|d|e|f|g|h|i|j|k« isn't. Try to join correlating
cache groups: if your cache groups look somewhat like »a|b|$page|$items|$whatever«
consider using »a|b|c|$page-$items-$whatever« instead.</p>                    </div>
    
    
    
            <h2>Properties</h2>

            <table class="table table-condensed">
                    <tr>
                <td class="type" id="property_sysplugins">
                    static                    protected                                        array
                </td>
                <td>$sysplugins</td>
                <td class="last">resource types provided by the core</td>
                <td><small>from&nbsp;<a href="Smarty_CacheResource.html#property_sysplugins">Smarty_CacheResource</a></small></td>
            </tr>
                    <tr>
                <td class="type" id="property_contents">
                                        protected                                        array
                </td>
                <td>$contents</td>
                <td class="last">cache for contents</td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_timestamps">
                                        protected                                        array
                </td>
                <td>$timestamps</td>
                <td class="last">cache for timestamps</td>
                <td></td>
            </tr>
            </table>

    
            <h2>Methods</h2>

            <div class="container-fluid underlined">
                    <div class="row">
                <div class="col-md-2 type">
                    void
                </div>
                <div class="col-md-8 type">
                    <a href="#method_populate">populate</a>(<a href="Smarty_Template_Cached.html">Smarty_Template_Cached</a> $cached, <a href="Smarty_Internal_Template.html">Smarty_Internal_Template</a> $_template)
        
                                            <p>populate Cached Object with meta data from Resource</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    void
                </div>
                <div class="col-md-8 type">
                    <a href="#method_populateTimestamp">populateTimestamp</a>(<a href="Smarty_Template_Cached.html">Smarty_Template_Cached</a> $cached)
        
                                            <p>populate Cached Object with timestamp and exists from Resource</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    boolean
                </div>
                <div class="col-md-8 type">
                    <a href="#method_process">process</a>(<a href="Smarty_Internal_Template.html">Smarty_Internal_Template</a> $_smarty_tpl, <a href="Smarty_Template_Cached.html">Smarty_Template_Cached</a> $cached = null, boolean $update = false)
        
                                            <p>Read the cached template and process the header</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    boolean
                </div>
                <div class="col-md-8 type">
                    <a href="#method_writeCachedContent">writeCachedContent</a>(<a href="Smarty_Internal_Template.html">Smarty_Internal_Template</a> $_template, string $content)
        
                                            <p>Write the rendered template output to cache</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    string
                </div>
                <div class="col-md-8 type">
                    <a href="#method_readCachedContent">readCachedContent</a>(<a href="Smarty_Internal_Template.html">Smarty_Internal_Template</a> $_template)
        
                                            <p>Read cached template from cache</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    null|string
                </div>
                <div class="col-md-8 type">
                    <a href="#method_getCachedContent">getCachedContent</a>(<a href="Smarty_Internal_Template.html">Smarty_Internal_Template</a> $_template)
        
                                            <p>Return cached content</p>                </div>
                <div class="col-md-2"><small>from&nbsp;<a href="Smarty_CacheResource.html#method_getCachedContent">Smarty_CacheResource</a></small></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    integer
                </div>
                <div class="col-md-8 type">
                    <a href="#method_clearAll">clearAll</a>(<a href="Smarty.html">Smarty</a> $smarty, integer $exp_time = null)
        
                                            <p>Empty cache
{@internal the $exp_time argument is ignored altogether }}</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    integer
                </div>
                <div class="col-md-8 type">
                    <a href="#method_clear">clear</a>(<a href="Smarty.html">Smarty</a> $smarty, string $resource_name, string $cache_id, string $compile_id, integer $exp_time)
        
                                            <p>Empty cache for a specific template
{@internal the $exp_time argument is ignored altogether}}</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    bool|null
                </div>
                <div class="col-md-8 type">
                    <a href="#method_locked">locked</a>(<a href="Smarty.html">Smarty</a> $smarty, <a href="Smarty_Template_Cached.html">Smarty_Template_Cached</a> $cached)
        
                                            <p class="no-description">No description</p>
                                    </div>
                <div class="col-md-2"><small>from&nbsp;<a href="Smarty_CacheResource.html#method_locked">Smarty_CacheResource</a></small></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    bool
                </div>
                <div class="col-md-8 type">
                    <a href="#method_hasLock">hasLock</a>(<a href="Smarty.html">Smarty</a> $smarty, <a href="Smarty_Template_Cached.html">Smarty_Template_Cached</a> $cached)
        
                                            <p>Check is cache is locked for this template</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    bool
                </div>
                <div class="col-md-8 type">
                    <a href="#method_acquireLock">acquireLock</a>(<a href="Smarty.html">Smarty</a> $smarty, <a href="Smarty_Template_Cached.html">Smarty_Template_Cached</a> $cached)
        
                                            <p>Lock cache for this template</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    bool
                </div>
                <div class="col-md-8 type">
                    <a href="#method_releaseLock">releaseLock</a>(<a href="Smarty.html">Smarty</a> $smarty, <a href="Smarty_Template_Cached.html">Smarty_Template_Cached</a> $cached)
        
                                            <p>Unlock cache for this template</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;<a href="Smarty_CacheResource.html">Smarty_CacheResource</a>
                </div>
                <div class="col-md-8 type">
                    <a href="#method_load">load</a>(<a href="Smarty.html">Smarty</a> $smarty, string $type = null)
        
                                            <p>Load Cache Resource Handler</p>                </div>
                <div class="col-md-2"><small>from&nbsp;<a href="Smarty_CacheResource.html#method_load">Smarty_CacheResource</a></small></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    string
                </div>
                <div class="col-md-8 type">
                    <a href="#method_getTemplateUid">getTemplateUid</a>(<a href="Smarty.html">Smarty</a> $smarty, string $resource_name)
        
                                            <p>Get template's unique ID</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    string
                </div>
                <div class="col-md-8 type">
                    <a href="#method_sanitize">sanitize</a>(string $string)
        
                                            <p>Sanitize CacheID components</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    boolean
                </div>
                <div class="col-md-8 type">
                    <a href="#method_fetch">fetch</a>(string $cid, string $resource_name = null, string $cache_id = null, string $compile_id = null, string $content = null, integer $timestamp = null, string $resource_uid = null)
        
                                            <p>Fetch and prepare a cache object.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8 type">
                    <a href="#method_addMetaTimestamp">addMetaTimestamp</a>(string $content)
        
                                            <p>Add current microtime to the beginning of $cache_content
{@internal the header uses 8 Bytes, the first 4 Bytes are the seconds, the second 4 Bytes are the microseconds}}</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    float
                </div>
                <div class="col-md-8 type">
                    <a href="#method_getMetaTimestamp">getMetaTimestamp</a>(string $content)
        
                                            <p>Extract the timestamp the $content was cached</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    void
                </div>
                <div class="col-md-8 type">
                    <a href="#method_invalidate">invalidate</a>(string $cid = null, string $resource_name = null, string $cache_id = null, string $compile_id = null, string $resource_uid = null)
        
                                            <p>Invalidate CacheID</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    float
                </div>
                <div class="col-md-8 type">
                    <a href="#method_getLatestInvalidationTimestamp">getLatestInvalidationTimestamp</a>(string $cid, string $resource_name = null, string $cache_id = null, string $compile_id = null, string $resource_uid = null)
        
                                            <p>Determine the latest timestamp known to the invalidation chain</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    array
                </div>
                <div class="col-md-8 type">
                    <a href="#method_listInvalidationKeys">listInvalidationKeys</a>(string $cid, string $resource_name = null, string $cache_id = null, string $compile_id = null, string $resource_uid = null)
        
                                            <p>Translate a CacheID into the list of applicable InvalidationKeys.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    array
                </div>
                <div class="col-md-8 type">
                    <a href="#method_read">read</a>(array $keys)
        
                                            <p>Read values for a set of keys from cache</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    boolean
                </div>
                <div class="col-md-8 type">
                    <a href="#method_write">write</a>(array $keys, int $expire = null)
        
                                            <p>Save values for a set of keys to cache</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    boolean
                </div>
                <div class="col-md-8 type">
                    <a href="#method_delete">delete</a>(array $keys)
        
                                            <p>Remove values from cache</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    boolean
                </div>
                <div class="col-md-8 type">
                    <a href="#method_purge">purge</a>()
        
                                            <p>Remove <em>all</em> values from cache</p>                </div>
                <div class="col-md-2"></div>
            </div>
            </div>


        <h2>Details</h2>

            <div id="method-details">
                    <div class="method-item">
                    <h3 id="method_populate">
        <div class="location">at         line 55</div>
        <code>                    void
    <strong>populate</strong>(<a href="Smarty_Template_Cached.html">Smarty_Template_Cached</a> $cached, <a href="Smarty_Internal_Template.html">Smarty_Internal_Template</a> $_template)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>populate Cached Object with meta data from Resource</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><a href="Smarty_Template_Cached.html">Smarty_Template_Cached</a></td>
                <td>$cached</td>
                <td>cached object</td>
            </tr>
                    <tr>
                <td><a href="Smarty_Internal_Template.html">Smarty_Internal_Template</a></td>
                <td>$_template</td>
                <td>template object</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_populateTimestamp">
        <div class="location">at         line 70</div>
        <code>                    void
    <strong>populateTimestamp</strong>(<a href="Smarty_Template_Cached.html">Smarty_Template_Cached</a> $cached)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>populate Cached Object with timestamp and exists from Resource</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><a href="Smarty_Template_Cached.html">Smarty_Template_Cached</a></td>
                <td>$cached</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_process">
        <div class="location">at         line 91</div>
        <code>                    boolean
    <strong>process</strong>(<a href="Smarty_Internal_Template.html">Smarty_Internal_Template</a> $_smarty_tpl, <a href="Smarty_Template_Cached.html">Smarty_Template_Cached</a> $cached = null, boolean $update = false)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Read the cached template and process the header</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><a href="Smarty_Internal_Template.html">Smarty_Internal_Template</a></td>
                <td>$_smarty_tpl</td>
                <td>do not change variable name, is used by compiled template</td>
            </tr>
                    <tr>
                <td><a href="Smarty_Template_Cached.html">Smarty_Template_Cached</a></td>
                <td>$cached</td>
                <td>cached object</td>
            </tr>
                    <tr>
                <td>boolean</td>
                <td>$update</td>
                <td>flag if called because cache update</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>boolean</td>
            <td>true or false if the cached content does not exist</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_writeCachedContent">
        <div class="location">at         line 123</div>
        <code>                    boolean
    <strong>writeCachedContent</strong>(<a href="Smarty_Internal_Template.html">Smarty_Internal_Template</a> $_template, string $content)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Write the rendered template output to cache</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><a href="Smarty_Internal_Template.html">Smarty_Internal_Template</a></td>
                <td>$_template</td>
                <td>template object</td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$content</td>
                <td>content to cache</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>boolean</td>
            <td>success</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_readCachedContent">
        <div class="location">at         line 137</div>
        <code>                    string
    <strong>readCachedContent</strong>(<a href="Smarty_Internal_Template.html">Smarty_Internal_Template</a> $_template)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Read cached template from cache</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><a href="Smarty_Internal_Template.html">Smarty_Internal_Template</a></td>
                <td>$_template</td>
                <td>template object</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td>content</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getCachedContent">
        <div class="location">in <a href="Smarty_CacheResource.html#method_getCachedContent">Smarty_CacheResource</a> at         line 82</div>
        <code>                    null|string
    <strong>getCachedContent</strong>(<a href="Smarty_Internal_Template.html">Smarty_Internal_Template</a> $_template)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Return cached content</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><a href="Smarty_Internal_Template.html">Smarty_Internal_Template</a></td>
                <td>$_template</td>
                <td>template object</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>null|string</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_clearAll">
        <div class="location">at         line 165</div>
        <code>                    integer
    <strong>clearAll</strong>(<a href="Smarty.html">Smarty</a> $smarty, integer $exp_time = null)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Empty cache
{@internal the $exp_time argument is ignored altogether }}</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><a href="Smarty.html">Smarty</a></td>
                <td>$smarty</td>
                <td>Smarty object</td>
            </tr>
                    <tr>
                <td>integer</td>
                <td>$exp_time</td>
                <td>expiration time (number of seconds, not timestamp)</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>integer</td>
            <td>number of cache files deleted</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_clear">
        <div class="location">at         line 188</div>
        <code>                    integer
    <strong>clear</strong>(<a href="Smarty.html">Smarty</a> $smarty, string $resource_name, string $cache_id, string $compile_id, integer $exp_time)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Empty cache for a specific template
{@internal the $exp_time argument is ignored altogether}}</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><a href="Smarty.html">Smarty</a></td>
                <td>$smarty</td>
                <td>Smarty object</td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$resource_name</td>
                <td>template name</td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$cache_id</td>
                <td>cache id</td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$compile_id</td>
                <td>compile id</td>
            </tr>
                    <tr>
                <td>integer</td>
                <td>$exp_time</td>
                <td>expiration time (number of seconds, not timestamp)</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>integer</td>
            <td>number of cache files deleted</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_locked">
        <div class="location">in <a href="Smarty_CacheResource.html#method_locked">Smarty_CacheResource</a> at         line 123</div>
        <code>                    bool|null
    <strong>locked</strong>(<a href="Smarty.html">Smarty</a> $smarty, <a href="Smarty_Template_Cached.html">Smarty_Template_Cached</a> $cached)
        </code>
    </h3>
    <div class="details">
            
    

                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><a href="Smarty.html">Smarty</a></td>
                <td>$smarty</td>
                <td></td>
            </tr>
                    <tr>
                <td><a href="Smarty_Template_Cached.html">Smarty_Template_Cached</a></td>
                <td>$cached</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>bool|null</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_hasLock">
        <div class="location">at         line 432</div>
        <code>                    bool
    <strong>hasLock</strong>(<a href="Smarty.html">Smarty</a> $smarty, <a href="Smarty_Template_Cached.html">Smarty_Template_Cached</a> $cached)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Check is cache is locked for this template</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><a href="Smarty.html">Smarty</a></td>
                <td>$smarty</td>
                <td></td>
            </tr>
                    <tr>
                <td><a href="Smarty_Template_Cached.html">Smarty_Template_Cached</a></td>
                <td>$cached</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>bool</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_acquireLock">
        <div class="location">at         line 448</div>
        <code>                    bool
    <strong>acquireLock</strong>(<a href="Smarty.html">Smarty</a> $smarty, <a href="Smarty_Template_Cached.html">Smarty_Template_Cached</a> $cached)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Lock cache for this template</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><a href="Smarty.html">Smarty</a></td>
                <td>$smarty</td>
                <td></td>
            </tr>
                    <tr>
                <td><a href="Smarty_Template_Cached.html">Smarty_Template_Cached</a></td>
                <td>$cached</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>bool</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_releaseLock">
        <div class="location">at         line 463</div>
        <code>                    bool
    <strong>releaseLock</strong>(<a href="Smarty.html">Smarty</a> $smarty, <a href="Smarty_Template_Cached.html">Smarty_Template_Cached</a> $cached)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Unlock cache for this template</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><a href="Smarty.html">Smarty</a></td>
                <td>$smarty</td>
                <td></td>
            </tr>
                    <tr>
                <td><a href="Smarty_Template_Cached.html">Smarty_Template_Cached</a></td>
                <td>$cached</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>bool</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_load">
        <div class="location">in <a href="Smarty_CacheResource.html#method_load">Smarty_CacheResource</a> at         line 191</div>
        <code>        static            <a href="Smarty_CacheResource.html">Smarty_CacheResource</a>
    <strong>load</strong>(<a href="Smarty.html">Smarty</a> $smarty, string $type = null)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Load Cache Resource Handler</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><a href="Smarty.html">Smarty</a></td>
                <td>$smarty</td>
                <td>Smarty object</td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$type</td>
                <td>name of the cache resource</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td><a href="Smarty_CacheResource.html">Smarty_CacheResource</a></td>
            <td>Cache Resource Handler</td>
        </tr>
    </table>

            
                            <h4>Exceptions</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><a href="SmartyException.html">SmartyException</a></td>
                <td></td>
            </tr>
            </table>

            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getTemplateUid">
        <div class="location">at         line 208</div>
        <code>            protected        string
    <strong>getTemplateUid</strong>(<a href="Smarty.html">Smarty</a> $smarty, string $resource_name)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Get template's unique ID</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><a href="Smarty.html">Smarty</a></td>
                <td>$smarty</td>
                <td>Smarty object</td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$resource_name</td>
                <td>template name</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td>filepath of cache file</td>
        </tr>
    </table>

            
                            <h4>Exceptions</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><a href="SmartyException.html">SmartyException</a></td>
                <td></td>
            </tr>
            </table>

            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_sanitize">
        <div class="location">at         line 226</div>
        <code>            protected        string
    <strong>sanitize</strong>(string $string)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Sanitize CacheID components</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$string</td>
                <td>CacheID component to sanitize</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td>sanitized CacheID component</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_fetch">
        <div class="location">at         line 248</div>
        <code>            protected        boolean
    <strong>fetch</strong>(string $cid, string $resource_name = null, string $cache_id = null, string $compile_id = null, string $content = null, integer $timestamp = null, string $resource_uid = null)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Fetch and prepare a cache object.</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$cid</td>
                <td>CacheID to fetch</td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$resource_name</td>
                <td>template name</td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$cache_id</td>
                <td>cache id</td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$compile_id</td>
                <td>compile id</td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$content</td>
                <td>cached content</td>
            </tr>
                    <tr>
                <td>integer</td>
                <td>$timestamp</td>
                <td>&amp;$timestamp    cached timestamp (epoch)</td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$resource_uid</td>
                <td>resource's uid</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>boolean</td>
            <td>success</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_addMetaTimestamp">
        <div class="location">at         line 273</div>
        <code>            protected        
    <strong>addMetaTimestamp</strong>(string $content)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Add current microtime to the beginning of $cache_content
{@internal the header uses 8 Bytes, the first 4 Bytes are the seconds, the second 4 Bytes are the microseconds}}</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$content</td>
                <td>&amp;$content the content to be cached</td>
            </tr>
            </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getMetaTimestamp">
        <div class="location">at         line 287</div>
        <code>            protected        float
    <strong>getMetaTimestamp</strong>(string $content)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Extract the timestamp the $content was cached</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$content</td>
                <td>&amp;$content the cached content</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>float</td>
            <td>the microtime the content was cached</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_invalidate">
        <div class="location">at         line 308</div>
        <code>            protected        void
    <strong>invalidate</strong>(string $cid = null, string $resource_name = null, string $cache_id = null, string $compile_id = null, string $resource_uid = null)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Invalidate CacheID</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$cid</td>
                <td>CacheID</td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$resource_name</td>
                <td>template name</td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$cache_id</td>
                <td>cache id</td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$compile_id</td>
                <td>compile id</td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$resource_uid</td>
                <td>source's uid</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getLatestInvalidationTimestamp">
        <div class="location">at         line 349</div>
        <code>            protected        float
    <strong>getLatestInvalidationTimestamp</strong>(string $cid, string $resource_name = null, string $cache_id = null, string $compile_id = null, string $resource_uid = null)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Determine the latest timestamp known to the invalidation chain</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$cid</td>
                <td>CacheID to determine latest invalidation timestamp of</td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$resource_name</td>
                <td>template name</td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$cache_id</td>
                <td>cache id</td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$compile_id</td>
                <td>compile id</td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$resource_uid</td>
                <td>source's filepath</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>float</td>
            <td>the microtime the CacheID was invalidated</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_listInvalidationKeys">
        <div class="location">at         line 384</div>
        <code>            protected        array
    <strong>listInvalidationKeys</strong>(string $cid, string $resource_name = null, string $cache_id = null, string $compile_id = null, string $resource_uid = null)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Translate a CacheID into the list of applicable InvalidationKeys.</p>                    <p>Splits "some|chain|into|an|array" into array( '#clearAll#', 'some', 'some|chain', 'some|chain|into', ... )</p>                            </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$cid</td>
                <td>CacheID to translate</td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$resource_name</td>
                <td>template name</td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$cache_id</td>
                <td>cache id</td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$compile_id</td>
                <td>compile id</td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$resource_uid</td>
                <td>source's filepath</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>array</td>
            <td>list of InvalidationKeys</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_read">
        <div class="location">at         line 477</div>
        <code>    abstract        protected        array
    <strong>read</strong>(array $keys)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Read values for a set of keys from cache</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>array</td>
                <td>$keys</td>
                <td>list of keys to fetch</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>array</td>
            <td>list of values with the given keys used as indexes</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_write">
        <div class="location">at         line 487</div>
        <code>    abstract        protected        boolean
    <strong>write</strong>(array $keys, int $expire = null)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Save values for a set of keys to cache</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>array</td>
                <td>$keys</td>
                <td>list of values to save</td>
            </tr>
                    <tr>
                <td>int</td>
                <td>$expire</td>
                <td>expiration time</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>boolean</td>
            <td>true on success, false on failure</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_delete">
        <div class="location">at         line 496</div>
        <code>    abstract        protected        boolean
    <strong>delete</strong>(array $keys)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Remove values from cache</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>array</td>
                <td>$keys</td>
                <td>list of keys to delete</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>boolean</td>
            <td>true on success, false on failure</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_purge">
        <div class="location">at         line 503</div>
        <code>            protected        boolean
    <strong>purge</strong>()
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Remove <em>all</em> values from cache</p>                                                </div>
                <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>boolean</td>
            <td>true on success, false on failure</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
            </div>

    
            </div>
                <div id="footer">
        Generated by <a href="http://sami.sensiolabs.org/">Sami, the API Documentation Generator</a>.
    </div>

        </div>
    </div>
    </body>

</html>
